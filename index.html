<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
     <title>Noodle Markets - Revolutionizing K-12 Purchasing | Noodle</title>
     <link rel="icon" type="image/png" href="img/favicon.png" sizes="16x16">
    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!-- Noodle CSS -->
    <link href="css/styles.css" rel="stylesheet" type="text/css">
    <!-- Font Awesome CSS -->
    <link href="css/font-awesome.min.css" rel="stylesheet">
  </head>

  <body>

  <!--Begin Big Header -->
  <div id="big-header" class="index-00">
    <!--Noodle Markets Logo -->
    <div class="logo-head">
      <img src="img/logo-a.svg" width="400px" alt="Noodle Markets Logo" class="hidden-xs"></img>
      <!--For XS Devices-->
      <img src="img/logo-a.svg" width="350px" alt="Noodle Markets Logo" class="hidden-sm hidden-md hidden-lg"></img>
    </div>

    <!--Begin Main Container -->
    <div class="container">

      <!--Call to Action -->
      <div class="row centered">
        <div class="col-lg-12">
          <h1>We are revolutionizing K-12 purchasing.</h1>
        </div><!--End col-lg-12-->
        <div class="col-lg-6 col-lg-offset-3 col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1 col-xs-12">
          <!--Email Alert -->
          <div id="email-success" class="alert alert-success fade in input-field" role="alert" data-dismiss="alert"> 
              <h1><i class="fa fa-check-square"></i></h1>
              <h2></h2>
              <h4></h4>
          </div>
          <!--Email Alert -->
        </div>
      </div><!--End row-->

      <form id="register-form" onsubmit="return false">

        <!--Radio Button Text -->
        <div class="row centered">
          <div class="col-md-12 col-sm-12">
            <h3>I am...</h3>
          </div>
        </div>

        <!--Radio Buttons -->
        <div class="row">
          <div class="col-md-8 col-md-offset-3 col-sm-10 col-sm-offset-2  col-xs-11 col-xs-offset-1">

            <div id="radio-user-type" class="clearfix">

              <!--Option 1-->
              <div class="clearfix check-container radio-educator">
               <input class="regular-radio" tabindex="100" id="radioEducator" type="radio" name="radioUsertype" value="educator" data-qtip-position-self="left bottom" data-qtip-position-target="right top" required>
                  <label for="radioEducator"></label>
                  <label for="radioEducator">An Educator</label>
                </input>
               </div>

              <!--Option 2-->
              <div class="clearfix check-container">
               <input class="regular-radio" tabindex="100" id="radioVendor" type="radio" name="radioUsertype" value="vendor" data-qtip-position-self="left bottom" data-qtip-position-target="right top" required>
                  <label for="radioVendor"></label>
                  <label for="radioVendor">A Vendor</label>
               </input>
              </div>

              <!--Option 3-->
              <div class="clearfix check-container">
               <input class="regular-radio" tabindex="100" id="radioOther" type="radio" name="radioUsertype" value="other" data-qtip-position-self="left bottom" data-qtip-position-target="right top" required>
                  <label for="radioOther"></label>
                  <label for="radioOther">Other</label>
               </input>
              </div>

            </div><!--End radio-user-type-->
          </div><!--End col-md-6-->
        </div><!--End row-->
        
        <!--Input Field -->
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1 col-xs-12">  
           <div class="noodle-input input-group input-group-lg">
              <span class="input-group-addon" id="sizing-addon1"><i class="fa fa-envelope-o"></i></span>
              <input type="text" class="form-control" id="email" placeholder="Please enter your email address to receive updates on our launch." aria-describedby="sizing-addon1" required></input>
          </div> 
          <!--Email Alert -->
          <div id="email-error-mes" class="alert alert-danger fade in input-field" role="alert" data-dismiss="alert">
          </div>
          <!--Email Alert -->
        </div>
      </div>

        

        <div class="row centered register">
          <div class="col-md-12">
           <button class="btn btn-noodle btn-default btn-lg" type="submit">Join Us</button>
          </div>
        </div>

      </form><!--End Form-->

    </div><!--End container-->
  </div><!--End big-header-->

  <!-- Bootstrap core JavaScript-->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <script src="js/bootstrap.min.js"></script>

  <script type="text/javascript">
  //<![CDATA[
    $(document).ready(function(){ 

      var path = "http://damp-gorge-5892.herokuapp.com/";


      var message = {};
      message.something = "else";

      $.ajaxSetup({async: true});
      $.post(path+"ping/", JSON.stringify(message), function(resp) {
      
        });
      $.ajaxSetup({async: true});

      
      $("#register-form").submit(function() {
        console.log("Testing!");
        
        var email = $("#email").val();

        //Validate the email with regex
        var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;

        if (re.test(email) == false)
        {
          $("#email-error-mes").show().text("Please enter a valid email address.");
          $( ".noodle-input .form-control").css({"border": "3px solid #FF1800"});
        }

        else 

        { 
          $("#email-error-mes").hide();
          $( ".noodle-input .form-control").css({"border": "none"});       
          $("#email-success").show();
          $("#email-success h2").append("Thanks for registering your email with Noodle Markets!");
          $("#email-success h4").append("We'll be in touch soon.");
          $("#register-form").hide();   


          var user_type = "None";

          if($('#radioEducator').is(':checked')) { 

              user_type = "Educator";
          } else if ($('#radioVendor').is(':checked')) {
              user_type = "Vendor";
          } else if ($('#radioOther').is(':checked')) {
              user_type = "Other";
          } 


          var signup_message = {};
          signup_message.email = email;
          signup_message.user_type = user_type;


          $.ajaxSetup({async: true});
          $.post(path+"signup/", JSON.stringify(signup_message), function(resp) {
              console.log(resp)
            });
          $.ajaxSetup({async: true});          


        } /* End of ELSE */ 
                  
        }); /* End of SUBMIT */

      });                           
    
      //]]>   
    </script>



</body>